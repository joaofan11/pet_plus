<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetPlus</title>
    <link rel="icon" type="image/png" href="logo_2.png">
    <link rel="stylesheet" href="styles.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhpmA9dtpgBcbLqKawClQ/mc+e9z8oOQ5LfA="
     crossorigin=""/>

    <style>
        /* Garante que o mapa seja exibido corretamente */
        #petMap, #registerMap {
            height: 250px;
            margin-top: 15px;
            border-radius: 12px;
            z-index: 1; /* Garante que o mapa fique vis√≠vel */
        }
    </style>
</head>
<body>
    <div class="container">
        <nav id="navigation">
            <div class="logo">
             <img src="logo_2.png" alt="Logo PetPlus" width="50" height="50">
             <span>PetPlus</span>
            </div>
            <div style="display: flex; align-items: center; gap: 20px; flex-wrap: wrap;">
                <div id="userInfo" class="user-info">
                    üëã Ol√°, <span id="userName"></span>
                </div>
                <div class="nav-links">
                    <button class="nav-btn active" onclick="showPage('landing')">Home</button>
                    <button class="nav-btn" onclick="showPage('adoption')">Adotar</button>
                    <button class="nav-btn" onclick="showPage('my-pets')" id="myPetsBtn" style="display: none;">Meus Pets</button>
                    <button class="nav-btn" onclick="showPage('login')" id="loginBtn">Entrar</button>
                    <button class="nav-btn" onclick="logout()" id="logoutBtn" style="display: none;">Sair</button>
                </div>
            </div>
        </nav>

        <div id="landing" class="page active">
            <div class="hero">...</div>
            <div class="features">...</div>
        </div>

        <div id="login" class="page">
            <div class="form-container">...</div>
        </div>

        <div id="register" class="page">
            <div class="form-container">...</div>
        </div>

        <div id="pet-register" class="page">
            <div class="form-container">
                <h2 class="form-title">Cadastrar Pet</h2>
                
                <div id="petRegisterMessage" class="message"></div>
                
                <form id="petRegisterForm">
                    <div class="form-group">
                        <label for="petPhoto">Foto do Pet</label>
                        <input type="file" id="petPhoto" name="photo" accept="image/*">
                    </div>
                    <div class="form-group">
                        <label for="petType">Tipo de Cadastro</label>
                        <select id="petType" name="type" required>
                            <option value="">Selecione...</option>
                            <option value="adoption">Para Ado√ß√£o (P√∫blico)</option>
                            <option value="personal">Pet Pessoal (Privado, local)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="petName">Nome do Pet</label>
                        <input type="text" id="petName" name="name" required placeholder="Nome do seu pet">
                    </div>
                    <div class="form-group">
                        <label for="petSpecies">Esp√©cie</label>
                        <select id="petSpecies" name="species" required>
                            <option value="">Selecione...</option>
                            <option value="dog">C√£o</option>
                            <option value="cat">Gato</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="petBreed">Ra√ßa</label>
                        <input type="text" id="petBreed" name="breed" required placeholder="Ra√ßa do pet">
                    </div>
                    <div class="form-group">
                        <label for="petAge">Idade</label>
                        <select id="petAge" name="age" required>
                            <option value="">Selecione...</option>
                            <option value="puppy">Filhote (0-1 ano)</option>
                            <option value="young">Jovem (1-3 anos)</option>
                            <option value="adult">Adulto (3-7 anos)</option>
                            <option value="senior">Idoso (7+ anos)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="petSize">Porte</label>
                        <select id="petSize" name="size" required>
                            <option value="">Selecione...</option>
                            <option value="small">Pequeno</option>
                            <option value="medium">M√©dio</option>
                            <option value="large">Grande</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="petGender">Sexo</label>
                        <select id="petGender" name="gender" required>
                            <option value="">Selecione...</option>
                            <option value="male">Macho</option>
                            <option value="female">F√™mea</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="petDescription">Descri√ß√£o</label>
                        <textarea id="petDescription" name="description" placeholder="Conte sobre a personalidade, cuidados especiais, hist√≥rico m√©dico, etc." required></textarea>
                    </div>
                    
                    <div id="mapSection" style="display: none;">
                        <div class="form-group">
                            <label>Localiza√ß√£o (Para Ado√ß√£o)</label>
                            <p style="font-size: 0.9rem; color: #718096; margin-bottom: 10px;">Clique no mapa para definir a localiza√ß√£o aproximada.</p>
                            <div id="registerMap"></div>
                            <input type="hidden" id="petLatitude" name="latitude">
                            <input type="hidden" id="petLongitude" name="longitude">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn">Cadastrar Pet</button>
                </form>
            </div>
        </div>

        <div id="adoption" class="page">
            <div style="padding: 30px 40px 0;">
                <h2 style="text-align: center; margin-bottom: 40px; color: #2d3748; font-size: 2.2rem; font-weight: 700;">Pets Dispon√≠veis para Ado√ß√£o</h2>
                
                <div class="filters">
                    <div class="filter-group">
                        <label>üîç Buscar</label>
                        <input type="text" id="searchFilter" placeholder="Nome ou ra√ßa..." onkeyup="filterPets()">
                    </div>
                    <div class="filter-group">
                        <label>üêæ Esp√©cie</label>
                        <select id="speciesFilter" onchange="filterPets()">
                            <option value="">Todas</option>
                            <option value="dog">C√£o</option>
                            <option value="cat">Gato</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>üìè Porte</label>
                        <select id="sizeFilter" onchange="filterPets()">
                            <option value="">Todos</option>
                            <option value="small">Pequeno</option>
                            <option value="medium">M√©dio</option>
                            <option value="large">Grande</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>üéÇ Idade</label>
                        <select id="ageFilter" onchange="filterPets()">
                            <option value="">Todas</option>
                            <option value="puppy">Filhote</option>
                            <option value="young">Jovem</option>
                            <option value="adult">Adulto</option>
                            <option value="senior">Idoso</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>üìã A√ß√µes</label>
                        <button class="btn" onclick="handleFindNearby()" style="width: 100%; padding: 12px 20px; font-size: 0.9rem; background: #319795;">
                            üìç Buscar Pr√≥ximos
                        </button>
                    </div>
                </div>
            </div>

            <div id="adoptionPets" class="pets-grid">
                </div>
        </div>

        <div id="my-pets" class="page">
            <div style="padding: 30px 40px;">...</div>
            <div id="myPetsGrid" class="pets-grid">...</div>
        </div>

        <div id="petModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closePetModal()">&times;</span>
                <div id="petModalContent">
                    </div>
            </div>
        </div>

        <div id="vaccinationModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeVaccinationModal()">&times;</span>
                <h3 style="margin-bottom: 25px; color: #2d3748; font-size: 1.5rem;">Adicionar Vacina</h3>
                
                <form id="vaccinationForm">
                    ...
                </form>
            </div>
        </div>

        <div id="contactModal" class="modal">...</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.10.3/sql-asm.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    
    <script src="script.js"></script>
</body>
</html>